#include <FastLED.h>
#define LED_PIN     13
#define NUM_LEDS    22

#define RED_PIN   9
#define GREEN_PIN 10
#define BLUE_PIN  11

#define COLOR       { 255, 255, 0 }
#define DELAY_TIME 5  
#define pot A1

struct RGBval{
  int r;
  int g;
  int b;
};

unsigned long time_;
int anal;

void ON(int n, RGBval col);
void OFF(int n);

CRGB leds[NUM_LEDS];
void setup() {
  FastLED.addLeds<WS2812, LED_PIN, GRB>(leds, NUM_LEDS);
  pinMode(pot, INPUT);
  
  pinMode(RED_PIN, OUTPUT);
  pinMode(GREEN_PIN, OUTPUT);
  pinMode(BLUE_PIN, OUTPUT);

  
  Serial.begin(9600);
}

void loop() {

  time_ = micros();
  anal = map(analogRead(pot), 0, 1023, 0, 10);
  
  if(time_ % anal == 0)
  {
    analogWrite(RED_PIN, 255);
    analogWrite(GREEN_PIN, 255);
    analogWrite(BLUE_PIN, 255);
  }
  else
  {
    analogWrite(RED_PIN, 0);
    analogWrite(GREEN_PIN, 0);
    analogWrite(BLUE_PIN, 0);
  }
  Serial.println(anal);
}

void ON(int n, RGBval col)
{
  leds[n] = CRGB(col.r, col.g, col.b);
  FastLED.show();
}

void OFF(int n)
{
  leds[n] = CRGB(0, 0, 0);
  FastLED.show();
}
